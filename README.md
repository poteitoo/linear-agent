# Linear Triageã€Œè§£æ±ºç­–ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã€ãƒãƒƒã‚«ã‚½ãƒ³ææ¡ˆæ›¸

æœ€çµ‚æ›´æ–°: 2025-09-06 (JST)

---

## 0. ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

**èª²é¡Œ**: Linear ã® triage ã«ã¯ä¼¼é€šã£ãŸãƒã‚°/è¦æœ›ãŒå¤šæ•°è“„ç©ã—ã€åˆ†é¡ãƒ»é‡è¤‡æ’é™¤ãƒ»å„ªå…ˆåº¦ä»˜ã‘ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã‚‹ã€‚  
**ä»®èª¬**: ã€Œãƒ†ã‚­ã‚¹ãƒˆã®é¡ä¼¼åº¦ã€ã§ã¯ãªã **ã€Œå…±é€šã®è§£æ±ºç­–ï¼ˆSolutionï¼‰ã€** ã‚’è»¸ã«ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã¨ã€**ä½•ã‚’ç›´ã›ã°è¤‡æ•°ã®èª²é¡ŒãŒä¸€æ°—ã«è§£æ±ºã™ã‚‹ã‹** ãŒå³åº§ã«è¦‹ãˆã‚‹ã€‚  
**è§£**: Linear ã‹ã‚‰ triage ã‚’èª­ã¿è¾¼ã¿ã€Claude ãŒå„èª²é¡Œã«å¯¾ã— **è§£æ±ºç­–å€™è£œï¼ˆæœ€å¤§5ä»¶ï¼‰** ã¨ **è£œè¶³è³ªå•** ã‚’ç”Ÿæˆã€‚äººé–“ãŒå€™è£œã‚’å–æ¨é¸æŠ/ä¿®æ­£å¾Œã€**ç¢ºå®šè§£æ±ºç­–ã‚’ã‚­ãƒ¼ã«å†ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°**ã€‚çµæœã‚’ **ãƒ„ãƒªãƒ¼å½¢å¼ã® Markdown** ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€‚

- **åˆæœŸã‚¹ã‚³ãƒ¼ãƒ—**: Linear èª­ã¿å–ã‚Šã®ã¿ï¼ˆæ›¸ãè¾¼ã¿/Slacké€ä¿¡ã¯æœªå®Ÿè£…ï¼‰ã€‚
- **ã‚¹ãƒ”ãƒ¼ãƒ‰æœ€å„ªå…ˆ**: ç²¾åº¦ã‚ˆã‚Šã€Œäººé–“ãŒæœ€çµ‚ç¢ºèªã§ãã‚‹é›†åˆã€ã‚’ç´ æ—©ãæç¤ºã€‚
- **Claude æ´»ç”¨**: ã‚¢ã‚¤ãƒ‡ã‚¢å‡ºã—ã§ã¯ãªã **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä¸­æ ¸**ï¼ˆè§£æ±ºç­–ç”Ÿæˆ â†’ è³ªå•ç”Ÿæˆ â†’ å†ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚° â†’ å‡ºåŠ›ï¼‰ã€‚
- **å†ç¾æ€§**: READMEï¼ˆå®Ÿè¡Œæ‰‹é †ã€ã‚µãƒ³ãƒ—ãƒ«ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰ã‚’åŒæ¢±ã€‚

---

## 1. ä¸€å•ä¸€ç­”ã§ç¢ºå®šã—ãŸãƒ—ãƒ­ãƒ€ã‚¯ãƒˆæ–¹å‘

- å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼: Linear ã‚’ä½¿ã† PM / EM / Tech Lead / PdM  
- ç›®çš„: triage ã® **åˆ†é¡æ™‚é–“ã‚’çŸ­ç¸®**ï¼ˆå®Œå…¨è‡ªå‹•ã§ã¯ãªãã€äººé–“ãŒæœ€çµ‚ç¢ºèªã§ãã‚‹çŠ¶æ…‹ã¾ã§ä¸€æ°—ã«é›†ç´„ï¼‰  
- ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ: **ã€Œè§£æ±ºç­–ã€ãƒ™ãƒ¼ã‚¹ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°**ï¼ˆãƒ†ã‚­ã‚¹ãƒˆé¡ä¼¼ã§ã¯ãªãã€åŒã˜è§£æ±ºæ–½ç­–ã§ç‰‡ä»˜ãèª²é¡Œã‚’æŸã­ã‚‹ï¼‰  
- å‡ºåŠ› UI: **ãƒ„ãƒªãƒ¼æ§‹é€  Markdown**ï¼ˆè§£æ±ºç­– â†’ èª²é¡Œ â†’ èµ·ç¥¨è€…/è£œè¶³ï¼‰  
- LLM ãƒ©ãƒ™ãƒ«è¨­è¨ˆ: **Bã§é–‹å§‹ï¼ˆè‡ªç”±ç”Ÿæˆï¼‰ â†’ æ™‚é–“ãŒã§ããŸã‚‰è¾æ›¸åŒ–ï¼ˆAï¼‰**  
- é€£æºã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆåˆå›ï¼‰: **Linear èª­ã¿å–ã‚Šã®ã¿**ã€Slack ã¯æœªå¯¾å¿œï¼ˆè³ªå•æ–‡ã¯ Markdown ã«å«ã‚ã¦æ‰‹å‹•é€ä¿¡æƒ³å®šï¼‰  
- å±•é–‹è¨ˆç”»: **ã¾ãšç¤¾å†…åˆ©ç”¨**ã§ç£¨ãè¾¼ã¿ã€å¿…è¦ã«å¿œã˜ã¦æ©Ÿèƒ½æ‹¡å¼µ

---

## 2. è©•ä¾¡é …ç›®ã¨ã®ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆæ¡ç‚¹è¡¨ï¼‰

1) **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¾¡å€¤/èª²é¡Œã®æ˜ç¢ºã•**  
- èª°ã«: Linear åˆ©ç”¨ã® PM/EM/Tech Lead  
- ä½•ã‚’: triage ã®ã€Œåˆ†é¡ãƒ»é‡è¤‡æ’é™¤ãƒ»å„ªå…ˆåº¦ã¥ã‘ã€ã«è²»ã‚„ã™æ™‚é–“ã‚’å‰Šæ¸›  
- ã©ã†ã‚„ã£ã¦: è§£æ±ºç­–ãƒ™ãƒ¼ã‚¹ã§èª²é¡Œç¾¤ã‚’æŸã­ã€**ã€Œã©ã®æ–½ç­–ãŒæœ€ã‚‚åŠ¹æœãŒå¤§ãã„ã‹ã€ã‚’å¯è¦–åŒ–**  
- æ ¹æ‹ ï¼ˆå®šé‡/å®šæ€§ï¼‰:  
  - å®šé‡: (a) ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°å‰å¾Œã§ triage ã«è¦ã—ãŸ**ç·æ™‚é–“**ã€(b) é‡è¤‡èª²é¡Œã®**å‰Šæ¸›ç‡**ã€(c) **1ã‚¹ãƒ—ãƒªãƒ³ãƒˆã«ç€æ‰‹ã§ããŸæ–½ç­–æ•°**  
  - å®šæ€§: PM/EM ã®æº€è¶³åº¦ã€æ„æ€æ±ºå®šã®é€Ÿã•/è¿·ã„ã®æ¸›å°‘

2) **å®Ÿè£…ã®å®Ÿåœ¨æ€§ãƒ»å†ç¾æ€§**  
- ä¸»è¦æ©Ÿèƒ½ãŒå‹•ãã€åˆå›èµ·å‹•ã€œæˆåŠŸãƒ‘ã‚¹ãŒå®‰å®š  
- README ã§ Linear èª­ã¿å–ã‚Šâ†’è§£æ±ºç­–ç”Ÿæˆâ†’äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼â†’å†ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°â†’Markdown å‡ºåŠ›ã¾ã§å†ç¾å¯èƒ½

3) **æ–°è¦æ€§ãƒ»æŠ€è¡“çš„å‰µæ„**  
- é¡ä¼¼åº¦ãƒ™ãƒ¼ã‚¹ã§ã¯ãªã**è§£æ±ºç­–ãƒ©ãƒ™ãƒ«**ã‚’ç”Ÿæˆãƒ»æ­£è¦åŒ–ã—ã¦ã‚¯ãƒ©ã‚¹ã‚¿  
- ãƒ©ãƒ™ãƒ«ã¯**å¤šé‡ä»˜ä¸**å¯èƒ½â†’æ¨ªæ–­ãƒ†ãƒ¼ãƒï¼ˆä¾‹: é€šçŸ¥è¨­è¨ˆã€æ¨©é™ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–ï¼‰ã‚’ä¿¯ç°

4) **Claude æ´»ç”¨ã®å·§ã¿ã•**  
- **è§£æ±ºç­–ã®ä¸€è²«æ€§ä¿æŒ**: åŒä¸€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§éå»ç”Ÿæˆã—ãŸè§£æ±ºç­–ã‚’å‚ç…§ã—ã€ç”¨èªçµ±ä¸€ãƒ»ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®æ•´åˆæ€§ã‚’è‡ªå‹•ç¶­æŒ  
- **æ§‹é€ åŒ–ã•ã‚ŒãŸå‡ºåŠ›**: JSON æ§‹é€ åŒ–å‡ºåŠ›ã€é–¢æ•°å‘¼ã³å‡ºã—çš„ I/Oã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ³¨å…¥å¯¾ç­–ã€å†å®Ÿè¡Œã®å®‰å®šæ€§ï¼ˆæ¸©åº¦/é•·ã•/æ–‡ä½“çµ±åˆ¶ï¼‰  
- **human-in-the-loop**: äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’åæ˜ ã—ãŸ**å†ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°**ã§è¨ˆç”»æ€§ã‚’æ‹…ä¿

5) **ç¶™ç¶šæ€§/å±•é–‹è¨ˆç”»**  
- ç¤¾å†…åˆ©ç”¨ã‹ã‚‰é–‹å§‹â†’è¾æ›¸åŒ–ãƒ»Slack é€£æºãƒ»Linear æ›¸ãè¾¼ã¿æ‹¡å¼µ  
- KPI ã§åŠ¹æœæ¤œè¨¼â†’å¿…è¦ãªã‚‰ OSS/SaaS ã¸ç™ºå±•

---

## 3. æ©Ÿèƒ½è¦ä»¶ï¼ˆMVPï¼‰

### 3.1 å¿…é ˆ
- [INGEST] Linear triage ã®èª²é¡Œã‚’ GraphQL/API ã§èª­ã¿è¾¼ã‚€ï¼ˆIssue IDã€Titleã€Descriptionã€Reporterã€Labelsã€CreatedAt ãªã©ï¼‰ã€‚
- [ANALYZE] èª²é¡Œã”ã¨ã« Claude ãŒä»¥ä¸‹ã‚’ç”Ÿæˆï¼š  
  - `solutions`: æœ€å¤§5ä»¶ã€**å®Ÿè¡Œå¯èƒ½ãªè§£æ±ºç­–**ï¼ˆçŸ­ã„å‘½åï¼‹èª¬æ˜ï¼‹æƒ³å®šå½±éŸ¿ç¯„å›²ï¼‹æƒ³å®šãƒªã‚¹ã‚¯/ä¾å­˜ï¼‰  
  - `questions`: è£œè¶³ãŒå¿…è¦ãªå…·ä½“çš„**è³ªå•ãƒªã‚¹ãƒˆ**ï¼ˆYes/No å›ç­”å¯èƒ½ or çŸ­æ–‡ã§å›ç­”å¯èƒ½ï¼‰  
- [REVIEW] äººé–“ãŒ solutions ã‚’å–æ¨é¸æŠ/ä¿®æ­£ï¼ˆMarkdown ãªã„ã— JSON ç·¨é›†ï¼‰ã€‚
- [CLUSTER] **ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¸ˆã¿ solutions** ã‚’ã‚­ãƒ¼ã«ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ï¼ˆå¤šé‡ãƒ©ãƒ™ãƒ«å¯ï¼‰ã€‚
- [EXPORT] **ãƒ„ãƒªãƒ¼æ§‹é€ ã® Markdown** ã‚’å‡ºåŠ›ï¼š  
  - è§£æ±ºç­–ï¼ˆä»£è¡¨å / ä»£è¡¨èª¬æ˜ / è©²å½“ä»¶æ•° / åˆè¨ˆå½±éŸ¿è¦‹ç©ã‚Šï¼‰  
  - â”œâ”€ èª²é¡Œï¼ˆID/Title/è¦ç´„/ãƒªãƒ³ã‚¯/èµ·ç¥¨è€…/é‡è¦ãƒ¡ã‚¿ï¼‰  
  - â””â”€ å‚è€ƒ: è£œè¶³è³ªå•ï¼ˆæœªè§£æ±ºã®ã¿ï¼‰

### 3.2 ä»»æ„ï¼ˆå¾Œå›ã—ï¼‰
- Linear ã¸ã®ã‚³ãƒ¡ãƒ³ãƒˆ/ãƒ©ãƒ™ãƒ«ä»˜ä¸ã€é‡è¤‡å€™è£œãƒªãƒ³ã‚¯
- Slack ã¸ã®è‡ªå‹•æŠ•ç¨¿ï¼ˆè³ªå•ï¼‰
- äº‹å‰å®šç¾©è¾æ›¸ï¼ˆSolution Taxonomyï¼‰ã®å°å…¥ãƒ»ãƒ¡ãƒ³ãƒ† UI

---

## 4. éæ©Ÿèƒ½è¦ä»¶

- **å†ç¾æ€§**: seed/temperature ç­‰ã®å›ºå®šã€åŒã˜å…¥åŠ›ã§åŒã˜å‡ºåŠ›ã‚’æ¥µåŠ›å†ç¾  
- **ä¿¡é ¼æ€§**: å¤±æ•—æ™‚ã®å†è©¦è¡Œã€éƒ¨åˆ†çš„å¤±æ•—ã§ã‚‚æœ€çµ‚ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¯å¯èƒ½  
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: API ã‚­ãƒ¼ãƒ»ãƒˆãƒ¼ã‚¯ãƒ³ã¯ç’°å¢ƒå¤‰æ•°ç®¡ç†ã€‚å€‹äººæƒ…å ±/æ©Ÿå¾®æƒ…å ±ã¯å‡ºåŠ›ã«å«ã‚ãªã„è¨­å®šã‚’æ—¢å®š  
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: 100ã€œ1,000ä»¶ã® triage ã‚’ 5ã€œ10åˆ†ç¨‹åº¦ã§ãƒãƒƒãƒå‡¦ç†ï¼ˆä¸¦åˆ—ãƒ¯ãƒ¼ã‚«ãƒ¼/ãƒ¬ãƒ¼ãƒˆåˆ¶å¾¡ï¼‰  
- **å¯è¦³æ¸¬æ€§**: å„ã‚¹ãƒ†ãƒƒãƒ—ã®å‡¦ç†æ•°ãƒ»å¤±æ•—æ•°ãƒ»LLMãƒˆãƒ¼ã‚¯ãƒ³é‡ã‚’ãƒ­ã‚°/ãƒ¡ãƒˆãƒªã‚¯ã‚¹åŒ–

---

## 5. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ & ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 5.1 å…¨ä½“ãƒ•ãƒ­ãƒ¼å›³

```mermaid
flowchart TD
    Start([ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼é–‹å§‹]) --> FetchStep[Linear APIã‹ã‚‰ãƒˆãƒªã‚¢ãƒ¼ã‚¸å–å¾—]
    FetchStep --> NextActionStep[AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆ]
    NextActionStep --> ExportStep[ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”¨ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›]
    ExportStep --> WaitStep[ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…æ©Ÿ]
    WaitStep --> ClusterStep[é«˜è‡ªä¿¡åº¦ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°]
    ClusterStep --> End([å®Œäº†])
```

### 5.2 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯åˆ¥è©³ç´°ãƒ•ãƒ­ãƒ¼

```mermaid
graph TB
    subgraph "Frontend/CLI Layer"
        UI[ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹<br/>pnpm run dev]
    end
    
    subgraph "Mastra Framework"
        Workflow[linearTriageWorkflow<br/>TypeScript]
        Agent1[nextActionAgent<br/>Claude 3.5 Sonnet]
        Agent2[solutionAgent<br/>Claude 3.5 Sonnet] 
        Agent3[clusterAgent<br/>Claude 3.5 Sonnet]
        Tools[Tools Layer]
    end
    
    subgraph "External APIs"
        Linear[Linear API<br/>GraphQL]
        Anthropic[Anthropic API<br/>Claude]
        Slack[Slack Web API<br/>Optional]
    end
    
    subgraph "Storage Layer"
        LibSQL[(LibSQL Database<br/>Memory/File)]
        TempFiles[Temporary Files<br/>JSON/Markdown]
    end
    
    UI --> Workflow
    Workflow --> Agent1
    Workflow --> Agent3
    Agent1 --> Anthropic
    Agent3 --> Anthropic
    Tools --> Linear
    Tools --> Slack
    Workflow --> LibSQL
    Workflow --> TempFiles
```

### 5.3 ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œã‚·ãƒ¼ã‚±ãƒ³ã‚¹

```mermaid
sequenceDiagram
    participant User as ãƒ¦ãƒ¼ã‚¶ãƒ¼
    participant MW as Mastra Workflow
    participant LT as Linear Tool
    participant NA as NextAction Agent
    participant CA as Cluster Agent
    participant FS as File System
    
    User->>MW: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œé–‹å§‹
    MW->>LT: fetchTriageStepå®Ÿè¡Œ
    LT->>Linear API: ãƒˆãƒªã‚¢ãƒ¼ã‚¸ã‚¤ã‚·ãƒ¥ãƒ¼å–å¾—
    Linear API-->>LT: ã‚¤ã‚·ãƒ¥ãƒ¼ãƒªã‚¹ãƒˆ
    LT-->>MW: æ§‹é€ åŒ–ã•ã‚ŒãŸã‚¤ã‚·ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿
    
    MW->>NA: suggestNextActionsStepå®Ÿè¡Œ
    loop å„ã‚¤ã‚·ãƒ¥ãƒ¼ã«å¯¾ã—ã¦
        NA->>Anthropic API: æ¬¡ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆè¦æ±‚
        Anthropic API-->>NA: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆ(confidenceå«ã‚€)
    end
    NA-->>MW: å…¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆ
    
    MW->>FS: exportTempFileStepå®Ÿè¡Œ
    FS-->>MW: wait-for-human-review.jsonä½œæˆ
    MW->>User: ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…æ©Ÿ
    User->>MW: ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Œäº†é€šçŸ¥
    
    MW->>CA: clusterHighConfidenceActionsStepå®Ÿè¡Œ
    CA->>Anthropic API: é«˜è‡ªä¿¡åº¦ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
    Anthropic API-->>CA: ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°çµæœ
    CA-->>MW: æ§‹é€ åŒ–ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼
    MW-->>User: æœ€çµ‚çµæœ
```

---

## 6. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼ˆå†…éƒ¨ï¼‰

```json
// issue.jsonl (ingest)
{
  "issue_id": "LIN-1234",
  "title": "Notification arrives late on mobile",
  "description": "Users report ...",
  "reporter": "alice",
  "labels": ["bug", "mobile", "notification"],
  "url": "https://linear.app/...",
  "created_at": "2025-09-01T02:34:00Z"
}
```
```json
// solutions.jsonl (LLM raw output)
{
  "issue_id": "LIN-1234",
  "solutions": [
    {"name": "é€šçŸ¥é€å‡ºã‚­ãƒ¥ãƒ¼ã®é…å»¶æ”¹å–„", "summary": "...", "impact": "ä¸­ã€œå¤§", "risk": "ä½", "deps": ["queue", "worker"]},
    {"name": "ãƒ¢ãƒã‚¤ãƒ«ã®ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰é…ä¿¡è¦‹ç›´ã—", "summary": "...", "impact": "ä¸­", "risk": "ä¸­", "deps": ["mobile"]}
  ],
  "questions": [
    "é…å»¶ã¯ iOS/Android ã®ã©ã¡ã‚‰ã§å†ç¾ã—ã¾ã™ã‹ï¼Ÿ",
    "é…å»¶ã®ä¸­å¤®å€¤/95ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«ã¯ï¼Ÿ"
  ]
}
```
```json
// reviewed_solutions.jsonlï¼ˆäººæ‰‹ã§å–æ¨é¸æŠ/ä¿®æ­£å¾Œï¼‰
{
  "issue_id": "LIN-1234",
  "solutions": [
    {"name": "é€šçŸ¥é€å‡ºã‚­ãƒ¥ãƒ¼ã®é…å»¶æ”¹å–„", "summary": "ãƒ¯ãƒ¼ã‚«ãƒ¼æ‹¡å¼µã¨ãƒªãƒˆãƒ©ã‚¤èª¿æ•´", "impact": "å¤§", "risk": "ä½"}
  ]
}
```
```json
// clusters.jsonï¼ˆã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°çµæœï¼‰
{
  "solution": {"name": "é€šçŸ¥é€å‡ºã‚­ãƒ¥ãƒ¼ã®é…å»¶æ”¹å–„", "summary": "..." },
  "issues": [
    {"issue_id":"LIN-1234","title":"...","url":"...","reporter":"alice"},
    {"issue_id":"LIN-1357","title":"...","url":"...","reporter":"bob"}
  ],
  "stats": {"count": 12, "first_seen":"...", "last_seen":"..."}
}
```

---

## 7. å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆãƒ„ãƒªãƒ¼ Markdownï¼‰ã‚µãƒ³ãƒ—ãƒ«

```markdown
# Solution Cluster Report (YYYY-MM-DD)

## ğŸ”§ é€šçŸ¥é€å‡ºã‚­ãƒ¥ãƒ¼ã®é…å»¶æ”¹å–„ â€” 12ä»¶
- æ¦‚è¦: ãƒ¯ãƒ¼ã‚«ãƒ¼æ‹¡å¼µã¨ãƒªãƒˆãƒ©ã‚¤èª¿æ•´ã€‚mobile å½±éŸ¿ã‚ã‚Šã€‚
- æ¨å®šå½±éŸ¿: å¤§ / ãƒªã‚¹ã‚¯: ä½

### è©²å½“èª²é¡Œ
- LIN-1234: Notification arrives late on mobile â€” by alice  
  https://linear.app/...
- LIN-1357: Delayed push on Android â€” by bob  
  https://linear.app/...

### æœªè§£æ±ºã®è£œè¶³è³ªå•
- iOS/Android ã®ã©ã¡ã‚‰ã§å†ç¾ï¼Ÿ
- é…å»¶ã®ä¸­å¤®å€¤/95p ã¯ï¼Ÿ

---

## ğŸ§­ æ¨©é™ãƒ¢ãƒ‡ãƒ«ã®è¦‹ç›´ã— â€” 8ä»¶
...
```

---

## 8. API & å®Ÿè£…ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆæ“¬ä¼¼ã‚³ãƒ¼ãƒ‰ï¼‰

### 8.1 Linear å–ã‚Šè¾¼ã¿ï¼ˆread-onlyï¼‰
- èªè¨¼: `LINEAR_API_KEY` ç’°å¢ƒå¤‰æ•°
- å–å¾—å¯¾è±¡: triage view ã® Issue ä¸€è¦§ï¼ˆGraphQLï¼‰

```ts
// pseudo TypeScript
const issues = await fetchLinearIssues({ view: "triage" });
saveJsonl("issue.jsonl", issues);
```

### 8.2 è§£æ±ºç­–/è³ªå• ç”Ÿæˆï¼ˆClaudeï¼‰
- å…¥åŠ›: `issue.jsonl`
- å‡ºåŠ›: `solutions.jsonl`ï¼ˆæ§‹é€ åŒ– JSONï¼‰

```ts
for (const issue of issues) {
  const prompt = buildSolutionPrompt(issue);
  const res = await callClaudeJSON(prompt, { temperature: 0.2, maxTokens: 1200 });
  appendJsonl("solutions.jsonl", res);
}
```

**å‡ºåŠ›ã‚¹ã‚­ãƒ¼ãƒï¼ˆå³æ ¼åŒ–ï¼‰**
```json
{
  "type":"object",
  "properties": {
    "issue_id":{"type":"string"},
    "solutions":{"type":"array","items":{"type":"object","properties":{
      "name":{"type":"string","maxLength":80},
      "summary":{"type":"string","maxLength":280},
      "impact":{"type":"string","enum":["å°","ä¸­","å¤§"]},
      "risk":{"type":"string","enum":["ä½","ä¸­","é«˜"]},
      "deps":{"type":"array","items":{"type":"string"}}
    }}},
    "questions":{"type":"array","items":{"type":"string","maxLength":120}}
  },
  "required":["issue_id","solutions","questions"]
}
```

### 8.3 äººæ‰‹ãƒ¬ãƒ“ãƒ¥ãƒ¼
- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: Markdown ã‹ JSONL ã§ç·¨é›†  
- CLI æ”¯æ´: `review open solutions.jsonl` ã§ VSCode ã‚’é–‹ãã€`review validate` ã§ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼

### 8.4 ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
- å…¥åŠ›: `reviewed_solutions.jsonl`
- å‡ºåŠ›: `clusters.json` / `clusters.md`

ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆç°¡æ˜“ç‰ˆï¼‰:
1. `name` ã‚’æ­£è¦åŒ–ï¼ˆå…¨è§’åŠè§’/å¥èª­ç‚¹/åŠ©è©é™¤å»/ã‚¹ãƒ†ãƒŸãƒ³ã‚°ï¼‰
2. æ–‡å­—åˆ—è·é›¢ï¼‹åŸ‹ã‚è¾¼ã¿è¿‘å‚ã§**å€™è£œãƒãƒ¼ã‚¸**ï¼ˆã—ãã„å€¤2æ®µéšï¼‰
3. äººæ‰‹èª¿æ•´ãªã—ã§è‡ªå‹•ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆå¤šé‡æ‰€å±ã‚‚å¯ï¼‰
4. ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«ä»£è¡¨å/ä»£è¡¨èª¬æ˜ã‚’ LLM ã§è¦ç´„å†ç”Ÿæˆï¼ˆæ¸©åº¦ä½ã‚ï¼‰

---

## 9. Claude ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆï¼ˆè¦æ—¨ï¼‰

### 9.1 è§£æ±ºç­–å€™è£œ ç”Ÿæˆ
- **æŒ‡ç¤º**: å…¥åŠ›èª²é¡Œã®æ ¹æœ¬åŸå› /æŠ€è¡“é ˜åŸŸã‚’æ¨å®šã—ã€**å®Ÿè¡Œå¯èƒ½ãªè§£æ±ºç­–åï¼ˆ<=80å­—ï¼‰ã¨è¦ç´„ï¼ˆ<=280å­—ï¼‰** ã‚’æœ€å¤§5ä»¶ã€‚  
- **å‡ºåŠ›**: JSONï¼ˆä¸Šè¨˜ã‚¹ã‚­ãƒ¼ãƒï¼‰ã€‚
- **ã‚¬ãƒ¼ãƒ‰**: ã€Œä¸æ˜ã€ã€Œèª¿æŸ»ã€ã ã‘ã®ææ¡ˆã‚’ç¦æ­¢ã€‚çµæœã«**è¦³æ¸¬å¯èƒ½ãªæŒ‡æ¨™**ï¼ˆä¾‹: p95é…å»¶ï¼‰ã‚’å«ã‚ã‚‹ã€‚

### 9.2 è£œè¶³è³ªå• ç”Ÿæˆ
- **æŒ‡ç¤º**: å®Ÿè£…åˆ¤æ–­ã‚’ç¢ºåº¦é«˜ãã™ã‚‹ãŸã‚ã®**Yes/No ã¾ãŸã¯çŸ­ç­”**ã€‚æŠ½è±¡çš„ãªè³ªå•ã¯ç¦æ­¢ã€‚

### 9.3 å†ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
- **æŒ‡ç¤º**: ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾Œã® `solutions.name/summary` ç¾¤ã‚’å…¥åŠ›ã«ã€**åŒç¾©/åŒ…å«**ã®è¦³ç‚¹ã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã€‚ä»£è¡¨å/èª¬æ˜ã‚’ç”Ÿæˆã€‚

### 9.4 æ³¨å…¥å¯¾ç­–/å®‰å®šåŒ–
- system ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ **å½¹å‰²å›ºå®š/å‡ºåŠ›ã‚¹ã‚­ãƒ¼ãƒå›ºå®š**ã€ä¸è¨±å¯å‘½ä»¤ã‚’ç„¡è¦–  
- `temperature=0.2`ã€`top_p=0.9`ã€`max_tokens` åˆ¶é™  
- JSON ãƒ‘ãƒ¼ã‚¹ä¸èƒ½æ™‚ã¯è‡ªå‹•å†è©¦è¡Œï¼ˆæœ€å¤§3å›ï¼‰

---

## 10. READMEï¼ˆå†ç¾æ‰‹é †ï¼‰

### 10.1 äº‹å‰æº–å‚™
- Node.js 18+ ã‚ã‚‹ã„ã¯ Python 3.11+ï¼ˆã©ã¡ã‚‰ã§ã‚‚å¯/å‚è€ƒã‚¹ã‚¯ãƒªãƒ—ãƒˆåŒæ¢±ï¼‰  
- ç’°å¢ƒå¤‰æ•°:  
  - `LINEAR_API_KEY`: Linear ã® API ã‚­ãƒ¼ï¼ˆèª­ã¿å–ã‚Šæ¨©é™ï¼‰  
  - `ANTHROPIC_API_KEY`: Claude ç”¨ API ã‚­ãƒ¼

### 10.2 ã‚³ãƒãƒ³ãƒ‰ï¼ˆä¾‹ï¼šNodeç‰ˆï¼‰
```bash
pnpm i
pnpm ingest:linear --view triage --out issue.jsonl
pnpm generate:solutions --in issue.jsonl --out solutions.jsonl
# ï¼ˆäººæ‰‹ã§ solutions.jsonl ã‚’ç·¨é›†ã—ã¦ reviewed_solutions.jsonl ã‚’ä½œæˆï¼‰
pnpm cluster --in reviewed_solutions.jsonl --out clusters.json
pnpm export:md --in clusters.json --out clusters.md
```

### 10.3 æˆåŠŸãƒ‘ã‚¹
- `clusters.md` ãŒç”Ÿæˆã•ã‚Œã€ãƒ„ãƒªãƒ¼æ§‹é€ ã§èª²é¡ŒãŒæ•´ç†ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã€‚

---

## 11. KPI / è¨ˆæ¸¬è¨­è¨ˆ

- **Triage æ™‚é–“çŸ­ç¸®ç‡**: ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ¯”ã§ä½•%çŸ­ç¸®ã—ãŸã‹  
- **é‡è¤‡èª²é¡Œå‰Šæ¸›ç‡**: ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°å¾Œã«é‡è¤‡/é¡ä¼¼èµ·ç¥¨ãŒã©ã‚Œã ã‘æ¸›ã‚‹ã‹  
- **ç€æ‰‹æ–½ç­–æ•°/ã‚¹ãƒ—ãƒªãƒ³ãƒˆ**: ä¸Šä½ã‚¯ãƒ©ã‚¹ã‚¿ã®æ–½ç­–ç€æ‰‹ãŒå¢—ãˆã‚‹ã‹  
- **å†ç¾å¤±æ•—ç‡**: LLM å‡ºåŠ›ã® JSON ãƒ‘ãƒ¼ã‚¹å¤±æ•—/å†è©¦è¡Œå›æ•°  
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦**: PM/EM ã®ä¸»è¦³è©•ä¾¡ï¼ˆNPS/CSATï¼‰

---

## 12. ULTRA-THINKï¼ˆå‰æ/ãƒªã‚¹ã‚¯/ä»£æ›¿/ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ï¼‰

- **å‰æ**: èª²é¡Œæ–‡ã«ååˆ†ãªæ–‡è„ˆãŒã‚ã‚‹ã€Linear ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ãã‚‹  
- **ãƒªã‚¹ã‚¯**: è§£æ±ºç­–åã®ãƒãƒ©ã¤ãâ†’ã‚¯ãƒ©ã‚¹ã‚¿ä¹±ç«‹  
  - **ç·©å’Œ**: æ­£è¦åŒ–ï¼‹è¿‘å‚ãƒãƒ¼ã‚¸ï¼‹ã€Œä»£è¡¨åç”Ÿæˆã€ã‚’ LLM ã«äºŒæ®µæ´»ç”¨  
- **ä»£æ›¿**: Embedding é¡ä¼¼ï¼‹ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€Œã»ã¼é‡è¤‡ã€æ¤œçŸ¥ã‚’è£œåŠ©ï¼ˆMVP å¾Œï¼‰  
- **ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**: ç²¾åº¦ vs ã‚¹ãƒ”ãƒ¼ãƒ‰ â†’ **ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚’å„ªå…ˆ**ã—ã€äººé–“ã®æœ€çµ‚ç¢ºèªã‚’å‰æã«ãƒªã‚¹ã‚¯ã‚’æŠ‘åˆ¶

---

## 13. ä»Šå¾Œã®æ‹¡å¼µï¼ˆNow / Next / Laterï¼‰

- **Nowï¼ˆãƒãƒƒã‚«ã‚½ãƒ³ï¼‰**: Linear èª­ã¿å–ã‚Š â†’ è§£æ±ºç­–ç”Ÿæˆ â†’ äººæ‰‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ å†ã‚¯ãƒ©ã‚¹ã‚¿ â†’ Markdown å‡ºåŠ›  
- **Next**: Slack é€£æºï¼ˆè³ªå•ã®åŠè‡ªå‹•æŠ•ç¨¿ï¼‰ã€Linear ã‚³ãƒ¡ãƒ³ãƒˆ/ãƒ©ãƒ™ãƒ«æ›¸ãæˆ»ã—ã€**Solution è¾æ›¸åŒ–**  
- **Later**: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰åŒ–ï¼ˆå±¥æ­´/ãƒˆãƒ¬ãƒ³ãƒ‰ï¼‰ã€SaaS/OSS å±•é–‹ã€RBACã€ç›£æŸ»ãƒ­ã‚°

---

## 14. å—ã‘å…¥ã‚ŒåŸºæº–ï¼ˆDoDï¼‰

- `pnpm` ã‚³ãƒãƒ³ãƒ‰ã®ã¿ã§ **ã‚¯ãƒªãƒ¼ãƒ³ç’°å¢ƒã‹ã‚‰å†ç¾**ã§ãã‚‹  
- 50ä»¶ä»¥ä¸Šã® triage ã§ **clusters.md ãŒç”Ÿæˆ**ã•ã‚Œã‚‹  
- å‡ºåŠ›ã® **ä»£è¡¨ã‚¯ãƒ©ã‚¹ã‚¿3ä»¶ä»¥ä¸Š**ãŒã€Œä»Šã™ãä½¿ã„ãŸã„ã€ãƒ¬ãƒ™ãƒ«ã§æ„æ€æ±ºå®šã‚’ä¿ƒã™  
- LLM å‡ºåŠ›ã¯ **100% ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼**ã‚’é€šé

---

## 15. ç™ºè¡¨ç”¨ãƒ‡ãƒ¢å°æœ¬ï¼ˆ3ã€œ4åˆ†ï¼‰

1. èª²é¡Œ: triage ã®ã€Œä¼¼ãŸèª²é¡Œåœ°ç„ã€  
2. è§£æ±º: **è§£æ±ºç­–ãƒ™ãƒ¼ã‚¹**ã§æŸã­ã‚‹ã¨ã€æ–½ç­–ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆãŒè¦‹ãˆã‚‹  
3. ãƒ©ã‚¤ãƒ–: ingest â†’ solutions ç”Ÿæˆ â†’ äººæ‰‹ã§1ä»¶ä¿®æ­£ â†’ cluster â†’ `clusters.md` ã‚’é–‹ã  
4. ä¾¡å€¤: ã€Œã“ã®æ–½ç­–ã‚’ã‚„ã‚Œã° 12ä»¶æ¶ˆãˆã‚‹ã€ãŒä¸€ç›®ã§åˆ†ã‹ã‚‹  
5. ç¶™ç¶š: ç¤¾å†…ã§é‹ç”¨â†’è¾æ›¸åŒ–/Slack/æ›¸ãæˆ»ã—â†’å±•é–‹

---

## 16. ä»˜éŒ² A: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé››å½¢ï¼ˆè¦ç´„ï¼‰

**System**: ã‚ãªãŸã¯ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆå…¼ SRE ã§ã™ã€‚â€¦ï¼ˆå½¹å‰²å›ºå®š/ç¦å‰‡/JSONå³å®ˆï¼‰ã€‚  
**User**: èª²é¡Œ JSON ã‚’æ¸¡ã™ã€‚  
**Assistant**: `solutions`ï¼ˆæœ€å¤§5ï¼‰ã¨ `questions` ã‚’ JSON ã§è¿”ã™ã€‚  
- ç¦æ­¢: ã€Œèª¿æŸ»ãŒå¿…è¦ã€ã ã‘ã®ææ¡ˆã€æŠ½è±¡è³ªå•ã€ã‚¹ã‚­ãƒ¼ãƒé•åã€‚  
- è¦ä»¶: å½±éŸ¿ã®è¦‹ç©ã‚Šè»¸ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼å½±éŸ¿/é‹ç”¨ã‚³ã‚¹ãƒˆ/ãƒªã‚¹ã‚¯ï¼‰ã‚’æ˜è¨˜ã€‚

---

## 17. ä»˜éŒ² B: ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆJSON Schemaï¼‰

ï¼ˆä¸Šè¨˜ã«è¨˜è¼‰ã®ã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ç”¨ã€‚CI ã« jsonschema æ¤œè¨¼ã‚’è¿½åŠ ã™ã‚‹ã¨å®‰å®šåŒ–ï¼‰

---

## 18. ä»˜éŒ² C: ãƒ©ã‚¤ã‚»ãƒ³ã‚¹/ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹æ³¨æ„

- API ã‚­ãƒ¼ã¯ .env ç®¡ç†ã€ãƒªãƒã‚¸ãƒˆãƒªã«å«ã‚ãªã„  
- èµ·ç¥¨è€…åç­‰ã®å€‹äººæƒ…å ±ãŒå«ã¾ã‚Œã‚‹å¯èƒ½æ€§â†’ Markdown é…å¸ƒæ™‚ã¯**åŒ¿ååŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³**

---
